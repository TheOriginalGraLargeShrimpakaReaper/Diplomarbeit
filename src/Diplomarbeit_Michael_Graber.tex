%Vorlage fuer Thesen an der FFHS
%\documentclass{grathesis}
%\documentclass{ksgr_styles}
\documentclass{ibw_disposition}
\usepackage[utf8]{inputenc}
%\usepackage[iso-8859-1]{inputenc}
\usepackage{float} % Hold figures and tables on place
\usepackage{longtable}
\usepackage{multicol}
\usepackage{paracol}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[table,xcdraw]{xcolor}
\usepackage{lscape}
\usepackage[toc, xindy]{glossaries}
\usepackage{textcomp}
\usepackage{rotating}
\usepackage{pdflscape}

\usepackage{enumitem,hyperref}
\usepackage[explicit]{titlesec}
\usepackage{calc,pifont,eurosym,amsmath,wasysym,amssymb,amsfonts}

\hypersetup{colorlinks=true,allcolors=blue,pdftitle=Diplomarbeit Michael Graber,pdfauthor=Michael Graber (gramic)}

\input{content/glossary/glossary}

% Fortlaufende Nummerierung
\usepackage{listings}
\usepackage{csquotes}

%\usepackage{graphicx}

% Appendix
%\usepackage{minitoc}
%\renewcommand \thepart{}
%\renewcommand \partname{}

% Disposition include
\usepackage{pdfpages}

% Bibliography Packages
\usepackage[style=numeric,backend=biber,sortlocale=de_DE,bibencoding=utf8,sorting=nty,minbibnames=1,maxbibnames=6,autopunct=true,natbib=true,hyperref=false,doi=false,isbn=false,url=false,eprint=false]{biblatex}
\DeclareLanguageMapping{american}{american-apa}
\addbibresource{source/Diplomarbeit_Michael_Graber.bib}

% Progress Bar
\usepackage{progressbar}
%\usepackage[dvipsnames]{xcolor}

% SI Units
\usepackage{siunitx}
\DeclareSIUnit\CHF{CHF}

\usepackage[format=plain, indention=1cm]{caption}

%\usepackage{ngerman}
%\usepackage[ngerman]{babel}

% Unicode Characters
\DeclareUnicodeCharacter{65533}{\"u}

\geometry{
   left=2.3cm,
   right=2.3cm,
   top=2.13cm,
   bottom=2cm,
   textwidth=8cm,
   marginpar=3cm}


% Define yaml as new Listening
\newcommand\YAMLcolonstyle{\color{red}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}

\makeatletter

% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
  keywords={true,false,null,y,n},
  keywordstyle=\color{darkgray}\bfseries,
  basicstyle=\YAMLkeystyle,                                 % assuming a key comes first
  sensitive=false,
  comment=[l]{\#},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\YAMLvaluestyle\ttfamily,
  moredelim=[l][\color{orange}]{\&},
  moredelim=[l][\color{magenta}]{*},
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
  morestring=[b]',
  morestring=[b]",
  literate =    {---}{{\ProcessThreeDashes}}3
                {>}{{\textcolor{red}\textgreater}}1
                {|}{{\textcolor{red}\textbar}}1
                {\ -\ }{{\mdseries\ -\ }}3,
}

% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}

% set listing designs
%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"
\lstdefinestyle{gra_codestyle}{
  backgroundcolor=\color{lightgray}, commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  extendedchars=false,
  literate=%
    {Ö}{{\"O}}1
    {Ä}{{\"A}}1
    {Ü}{{\"U}}1
    {ß}{{\ss}}1
    {ü}{{\"u}}1
    {ä}{{\"a}}1
    {ö}{{\"o}}1
}

\fancyhf{}% Clear all headers/footers
\fancypagestyle{headings}{\fancyhf{}
%  \fancyhead[L]{}
  \fancyfoot[C]{\thepage{}}
  \renewcommand\headrulewidth{0pt}
  \renewcommand\footrulewidth{0pt}
  \renewcommand\thepage{\arabic{page}}
  \rhead{\includegraphics[width=1cm]{source/main/ibw}}

  \fancyhead[L]{\fontsize{11.5pt}{13.8ptpt} \selectfont\rmfamily\bfseries\color[HTML]{2F5496}Diplomarbeit\\}
}
\fancypagestyle{FirstPage}{\fancyhf{}
  \fancyhead[L]{}
  \fancyfoot[L]{}
  \renewcommand\headrulewidth{0pt}
  \renewcommand\footrulewidth{0pt}
  \renewcommand\thepage{\arabic{page}}
  \rhead{\includegraphics[width=1cm]{source/main/ibw}}
%  \headheight 33pt
}
%    % Headings

\titleformat{\chapter}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{11.5pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{12pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\thechapter}}}{0pt}{#1}[]
\titlespacing*{\chapter}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}

\titleformat{\section}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{11.5pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{11pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\thesection}}}{0pt}{#1}[]
\titlespacing*{\section}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}
\titleformat{\subsection}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{10pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{11pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\thesubsection}}}{0pt}{#1}[]
\titlespacing*{\subsection}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}
\titleformat{\subsubsection}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{10pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{11pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\thesubsubsection}}}{0pt}{#1}[]
\titlespacing*{\subsubsection}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}
\titleformat{\subsubsection}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{10pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{11pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\thesubsubsection}}}{0pt}{#1}[]
\titlespacing*{\subsubsection}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}
\titleformat{\paragraph}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{10pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{11pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\theparagraph}}}{0pt}{#1}[]
\titlespacing*{\paragraph}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}
\titleformat{\subparagraph}[block]{\filright\normalfont\normalsize\normalcolor\fontsize{10pt}{13.8pt}\selectfont\rmfamily\bfseries\color[HTML]{2F5496}}{{\fontsize{11pt}{14.400001pt}\selectfont \makebox[2.5cm][l]{\thesubparagraph}}}{0pt}{#1}[]
\titlespacing*{\subparagraph}{0pt}{0.847cm plus 0.1694cm minus 0.0847cm}{0.212cm plus 0.0424cm minus 0.0212cm}

\pagestyle{headings}
\begin{document}

%    \part{} % Start the document part
%    \parttoc % Insert the document TOC

%    \begin{flushleft}
    \dispotitel{Diplomarbeit Technik und Wirtschaftsinformatik 2023-2024}
    \arbeittitel{PostgreSQL HA Cluster - Konzeption und Implementation}
    \studentname{Graber}
    \studentvorname{Michael}
    \studiengang{DIPL. INFORMATIKER/-IN HF - 10.0002A-2021}
    \arbeitgeber{Kantonsspital Graubünden}
    \maketitle
%    \newpage
%    \fancypagestyle
%    \clearpage
%    \pagestyle{headings}
    \clearpage
    \thispagestyle{fancy}
    \begin{zusammenfassung}
        Disposition für die Diplomarbeit von Michael Graber.
        Ziel der Arbeit ist die Evaluation, Konzeption und Implementation eines PostgreSQL HA Clusters für das Kantonsspital Graubünden.
    \end{zusammenfassung}
    \pagestyle{headings}
    \thispagestyle{fancy}

    \begin{managementsummary}
        \begin{flushleft}
            Diplomarbeit Michael Graber
        \end{flushleft}
    \end{managementsummary}

    \clearpage
    {
        \hypersetup{hidelinks}
        \tableofcontents
    }
    \pagestyle{headings}
    \thispagestyle{fancy}
    \input{content/abbreviations/abbreviations}
    \startThesis % Befehl muss vor dem ersten chapter stehen (Seitennummerierung!)
    \input{content/introduction/introduction}
    \input{content/implementation/implementation}
    \input{content/results/results}
    \input{content/appendix/appendix}

\end{document}
